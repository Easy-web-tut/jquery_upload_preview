(function(b){b.extend({uploadPreview:function(e){var a=b.extend({input_field:".image-input",preview_box:".image-preview",label_field:".image-label",label_default:"Choose File",label_selected:"Change File",no_label:!1,success_callback:null},e);if(window.File&&window.FileList&&window.FileReader)"undefined"!==typeof b(a.input_field)&&null!==b(a.input_field)&&b(a.input_field).change(function(){var c=this.files;if(0<c.length){var d=c[0],c=new FileReader;c.addEventListener("load",function(c){c=c.target;
d.type.match("image")?(b(a.preview_box).css("background-image","url("+c.result+")"),b(a.preview_box).css("background-size","cover"),b(a.preview_box).css("background-position","center center")):d.type.match("audio")?b(a.preview_box).html("<audio controls><source src='"+c.result+"' type='"+d.type+"' />Your browser does not support the audio element.</audio>"):alert("This file type is not supported yet.")});0==a.no_label&&b(a.label_field).html(a.label_selected);c.readAsDataURL(d);a.success_callback&&
a.success_callback()}else 0==a.no_label&&b(a.label_field).html(a.label_default),b(a.preview_box).css("background-image","none"),b(a.preview_box+" audio").remove()});else return alert("You need a browser with file reader support, to use this form properly."),!1}})})(jQuery);